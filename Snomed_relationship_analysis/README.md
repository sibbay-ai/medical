# Snomed CT 中疾病相关关系分析与整理

### 数据来源

- 关系

  Snomed CT Release 中的 Delta/Terminology/sct2_Relationship_Delta_INT_20190731.txt

- Snomed CT Term Description

  Snomed CT Release 中的Delta/Terminology/sct2_Description_Delta-en_INT_20190731.txt

- ICD-10 与 Snomed CT 的映射关系

  Mapping(Shannon提交) 中的 mapSnomedToIcd.txt
  
- 后台现有症状数据

  @fushang318 提供的数据库 dump 文件

  

### 处理方法

  见 snomed_relationship.ipynb



### 结果

- （关联的两个概念中，一个有对应的ICD编码，另一个可以在 Snomed CT 中查到 Description）的关系

    共 4605 条，见 [Snomed CT 中疾病相关关系（仅包含有term可查的）](./Snomed CT 中疾病相关关系（仅包含有term可查的）.tsv)。各列名含义见下表：

    | 列名                | 内容                                             |
    | ------------------- | ------------------------------------------------ |
    | icd_id              | ICD 编码（亚目，四位）                           |
    | icd_name            | ICD 亚目名称                                     |
    | another_sctid       | 另一个 concept 的 sctid                          |
    | another_sct_term_cn | 另一个 concept 的名称（使用彩云译为中文）        |
    | another_sct_term    | 另一个 concept 的名称                            |
    | relationship_type   | 关系类型                                         |
    | icd_where           | ICD 编码是关系的起始或目标（source/destination） |

    各种关系类型数量统计如下：

    | type                  | count |
    | --------------------- | ----- |
    | Interprets            | 114   |
    | Associated with       | 14    |
    | Associated morphology | 309   |
    | Associated procedure  | 14    |
    | Has focus             | 13    |
    | Causative agent       | 87    |
    | Associated finding    | 51    |
    | Due to                | 214   |
    | After                 | 76    |
    | Is a (attribute)      | 3047  |
    | Finding site          | 666   |
    
     
    
- 两个概念均有对应的ICD编码 的关系

    共 7132 条，见 [Snomed CT 中 ICD_terms 相关关系](./Snomed CT 中 ICD_terms 相关关系.tsv)，各种关系类型数量统计如下：

    | ty                 | count |
    | ------------------ | ----- |
    | Associated with    | 243   |
    | After              | 231   |
    | Due to             | 981   |
    | Is a (attribute)   | 5633  |
    | Associated finding | 44    |

### 一些想法

开始做这个分析的时候是打算寻找疾病和症状之间的关系，试图找到各疾病的相关症状实现疾病的自动化询问、记录，但发现 Snomed 的关系库中没有【 ICD 收录的疾病 <-> 我们的数据库中已有症状 】的关系。后来想到可以找找【 ICD 收录的疾病 <-> ICD 收录的疾病 】的关系，发现确实有不少，其中 'Associated with', 'After', 'Due to', 'Associated finding' 等都具有潜在的应用价值（比如开始的时候可以都算作并发症）。以下是一些关系例子：

| source_icd_id | source_icd_name | destination_icd_id                                         | destination_icd_name | relationship_type                 | relationship_id |
| --------------- | ---------------------------------------------------------- | -------------------- | --------------------------------- | --------------- | ---------- |
| G12.2           | 运动神经元病                                               | D48.9                | 未特指的动态未定或动态未知的肿瘤  | Due to          | 2571445020 |
| G25.3           | 肌阵挛                                                     | G93.1                | 缺氧性脑损害,不可归类在他处者     | Due to          | 2571452022 |
| E53.9           | 未特指的维生素B缺乏病                                      | E56.9                | 未特指的维生素缺乏病              | Due to          | 2571513029 |
| H53.0           | 失用性弱视                                                 | H52.3                | 屈光参差和影像不等                | Due to          | 2572883025 |
| Q85.1           | 结节性硬化症                                               | Q85.9                | 未特指的斑痣性错构瘤病            | Due to          | 2573623021 |
| D51.1           | 选择性维生素B12吸收不良伴有蛋白尿引起的维生素B12缺乏性贫血 | E53.8                | 其他特指的B族维生素缺乏病         | Due to          | 2573993029 |
| E85.4           | 限定于器官的淀粉样变                                       | E85.9                | 未特指的淀粉样变                  | Due to          | 2574729020 |
| E01.1           | 碘缺乏相关性多结节性(地方性)甲状腺肿                       | E63.9                | 未特指的营养缺乏                  | Due to          | 2575179022 |
| I87.8           | 静脉其他特指的疾患                                         | I87.2                | 静脉功能不全(慢性)(周围性)        | Due to          | 2575378024 |
| D53.8           | 其他特指的营养性贫血                                       | E61.0                | 铜缺乏                            | Due to          | 2576479020 |
| D55.9           | 未特指的酶代谢紊乱性贫血                                   | E88.9                | 未特指的代谢紊乱                  | Due to          | 2576480023 |
| D55.8           | 其他酶代谢紊乱性贫血                                       | E88.9                | 未特指的代谢紊乱                  | Due to          | 2576481022 |
| D55.1           | 其他谷胱甘肽代谢紊乱性贫血                                 | E88.0                | 血浆蛋白代谢紊乱,不可归类在他处者 | Due to          | 2576482026 |
| E01.2           | 未特指的碘缺乏相关性(地方性)甲状腺肿                       | E63.9                | 未特指的营养缺乏                  | Due to          | 2580207023 |
| I83.1           | 下肢静脉曲张伴有炎症                                       | I87.8                | 静脉其他特指的疾患                | Due to          | 2580326028 |
| B90.9         | 呼吸道结核和未特指结核的后遗症 | A16.9              | 未特指的呼吸道结核,未提及细菌学或组织学的证实 | After             | 2568360028      |
| B90.0         | 中枢神经系统结核的后遗症       | A16.9              | 未特指的呼吸道结核,未提及细菌学或组织学的证实 | After             | 2568361029      |
| B90.1         | 泌尿生殖系结核的后遗症         | A16.9              | 未特指的呼吸道结核,未提及细菌学或组织学的证实 | After             | 2568362020      |
| B90.2         | 骨和关节结核的后遗症           | A16.9              | 未特指的呼吸道结核,未提及细菌学或组织学的证实 | After             | 2568363026      |
| B94.2         | 病毒性肝炎的后遗症             | B19.9              | 未特指的病毒性肝炎,不伴有肝昏迷               | After             | 2568365022      |
| E64.9         | 未特指的营养缺乏后遗症         | E63.9              | 未特指的营养缺乏                              | After             | 2568495029      |
| E64.1         | 维生素A缺乏后遗症              | E50.9              | 未特指的维生素A缺乏病                         | After             | 2568497021      |
| I01.2         | 急性风湿性心肌炎               | A49.1              | 未特指部位的链球菌感染                        | After             | 2568652020      |
| I09.0         | 风湿性心肌炎                   | A49.1              | 未特指部位的链球菌感染                        | After             | 2568653026      |
| I69.8         | 其他和未特指的脑血管病后遗症   | I67.9              | 未特指的脑血管病                              | After             | 2568661020      |
| I69.0         | 蛛网膜下出血后遗症             | I60.9              | 未特指的蛛网膜下出血                          | After             | 2568662029      |
| T90.0         | 头部浅表损伤后遗症             | S00.9              | 头部部位未特指的浅表损伤                      | After             | 2569509022      |
| T92.0         | 上肢开放性伤口后遗症           | T11.1              | 上肢开放性伤口,水平未特指                     | After             | 2569512020      |
| T92.5         | 上肢肌肉和肌腱损伤后遗症       | T11.9              | 上肢未特指的损伤,水平未特指                   | After             | 2569515022      |
| T92.6         | 上肢挤压伤和创伤性切断后遗症   | T11.9              | 上肢未特指的损伤,水平未特指                   | After             | 2569516023      |
| T93.9         | 下肢未特指损伤的后遗症         | T13.9              | 下肢未特指的损伤,水平未特指                   | After             | 2569517025      |
| T93.0         | 下肢开放性伤口后遗症           | T13.1              | 下肢开放性伤口,水平未特指                     | After             | 2569518024      |
| T93.5         | 下肢肌肉和肌腱损伤后遗症       | T13.9              | 下肢未特指的损伤,水平未特指                   | After             | 2569520022      |
| T93.6         | 下肢挤压伤和创伤性切断后遗症   | T13.9              | 下肢未特指的损伤,水平未特指                   | After             | 2569521021      |
| K08.8         | 其他特指的牙及支持结构疾患     | K00.9              | 未特指的牙发育疾患                            | After             | 2570753021      |
| O35.0         | 为胎儿(可疑)中枢神经系统畸形给予的孕产妇医疗\t   | Q03.9              | 未特指的先天性脑积水                         | Associated finding | 3419499021      |
| O35.0         | 为胎儿(可疑)中枢神经系统畸形给予的孕产妇医疗\t   | Q05.9              | 未特指的脊柱裂                               | Associated finding | 3437473025      |
| Z80.4         | 生殖器官恶性肿瘤家族史                           | D40.9              | 男性生殖器官未特指的动态未定或动态未知的肿瘤 | Associated finding | 4739112028      |
| Z85.4         | 生殖器官恶性肿瘤个人史                           | C63.9              | 未特指的男性生殖器官恶性肿瘤                 | Associated finding | 4742430027      |
| Z92.4         | 大手术个人史,不可归类在他处者                    | Q24.9              | 未特指的先天性心脏畸形                       | Associated finding | 4776861021      |
| Z87.5         | 妊娠、分娩和产褥期并发症个人史                   | P08.0              | 特大婴儿                                     | Associated finding | 6490664023      |
| Z86.6         | 神经系统和感觉器官疾病个人史                     | H50.9              | 未特指的斜视                                 | Associated finding | 11225968026     |
| Z86.2         | 血液和造血器官疾病和某些涉及免疫机制的疾患个人史 | D69.6              | 未特指的血小板减少                           | Associated finding | 11226121026     |
| Z86.0         | 其他肿瘤个人史                                   | D36.1              | 周围神经和自主神经系统良性肿瘤               | Associated finding | 11418430021     |
| Z86.6         | 神经系统和感觉器官疾病个人史                     | H47.0              | 视神经疾患,不可归类在他处者                  | Associated finding | 11433832029     |
| Z84.8         | 其他特指情况家族史                               | O75.2              | 产程期间发热,不可归类在他处者\t              | Associated finding | 11438634029     |
| Z86.6         | 神经系统和感觉器官疾病个人史                     | H43.8              | 玻璃体的其他疾患                             | Associated finding | 11438719027     |
| Z86.7         | 循环系统疾病个人史                               | I67.1              | 脑动脉瘤,未破裂                              | Associated finding | 11533854020     |
| Z86.7         | 循环系统疾病个人史                               | I62.9              | 未特指的颅内出血(非创伤性)                   | Associated finding | 11533865026     |
| Z86.7         | 循环系统疾病个人史                               | I74.9              | 未特指动脉的栓塞和血栓形成                   | Associated finding | 11533877020     |
| Z82.4         | 缺血性心脏病和其他循环系统疾病家族史             | I63.9              | 未特指的脑梗死                               | Associated finding | 11533896024     |
| Z87.1         | 消化系统疾病个人史                               | K22.2              | 食管梗阻                                     | Associated finding | 11533904029     |

另外如果我们以后采用了 ICD9-CM3 衍生的治疗编码方案，则 'Associated procedure' 也是一个可以挖掘的方向。

